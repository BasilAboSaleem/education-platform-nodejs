<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Teacher Dashboard - Edit Profile</title>
  <link rel="stylesheet" href="/assets/vendors/feather/feather.css">
  <link rel="stylesheet" href="/assets/vendors/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="/assets/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="/assets/vendors/simple-line-icons/css/simple-line-icons.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <style>
    .edit-profile-container {
      background-color: #fff;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      max-width: 900px;
      margin: 2rem auto;
    }

    .edit-profile-header {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #343a40;
    }

    .profile-image-preview {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .profile-image-preview img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #4e73df;
      box-shadow: 0 4px 12px rgba(78, 115, 223, 0.3);
    }

    .form-group label {
      font-weight: 500;
    }

    .form-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .form-col {
      flex: 1 1 48%;
    }

    @media (max-width: 768px) {
      .form-col {
        flex: 1 1 100%;
      }
    }

    .btn-primary {
      background-color: #4e73df;
      border: none;
    }

    .btn-primary:hover {
      background-color: #2e59d9;
    }

    .alert {
      margin-bottom: 1rem;
    }
  </style>
</head>

<body class="with-welcome-text">
  <div class="container-scroller">
    <%- include('../../../partials/starAdminpartials/_navbar.ejs') %>
    <div class="container-fluid page-body-wrapper">
      <%- include('../../../partials/starAdminpartials/_sidebar.ejs') %>

      <div class="main-panel">
        <div class="content-wrapper">

          <% if (error && error.length > 0) { %>
            <div class="alert alert-danger"><%= error[0] %></div>
          <% } %>
          <% if (success && success.length > 0) { %>
            <div class="alert alert-success"><%= success[0] %></div>
          <% } %>

          <div class="edit-profile-container">
            <div class="edit-profile-header">Edit Your Profile</div>

        <form action="/teacher/profile/edit?_method=PUT" method="POST" enctype="multipart/form-data">
  <div class="profile-image-preview">
    <label>Current Profile Image</label><br>
    <img
      src="<%= user.profilePicture ? user.profilePicture : 'https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y' %>"
      alt="Profile"
    >
  </div>

  <div class="form-group">
    <label for="profileImage">Upload New Profile Image</label>
    <input type="file" class="form-control" name="profilePicture" id="profileImage">
  </div>

  <div class="form-row">
    <div class="form-group form-col">
      <label for="name">Full Name</label>
      <input type="text" class="form-control" name="name" id="name" value="<%= user.name %>" required>
    </div>

    <div class="form-group form-col">
      <label for="email">Email Address</label>
      <input type="email" class="form-control" name="email" id="email" value="<%= user.email %>" required>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group form-col">
      <label for="address">Address</label>
      <input type="text" class="form-control" name="address" id="address" value="<%= teacher.address || '' %>">
    </div>

    <div class="form-group form-col">
      <label for="phone">Phone Number</label>
      <input type="text" class="form-control" name="phone" id="phone" value="<%= teacher.phone || '' %>">
    </div>
  </div>

  <div class="form-group">
    <label for="bio">About You (Bio)</label>
    <textarea class="form-control" name="bio" id="bio" rows="3"><%= teacher.bio || '' %></textarea>
  </div>

    <div class="form-group">
    <label for="bio">About You (Specialization)</label>
    <textarea class="form-control" name="specialization" id="specialization" rows="3"><%= teacher.specialization || '' %></textarea>
  </div>


  <div class="form-group">
    <label for="expertise">Expertise <small>(separate with commas)</small></label>
    <input type="text" class="form-control" name="expertise" id="expertise" value="<%= teacher.expertise ? teacher.expertise.join(', ') : '' %>">
  </div>

  <div class="form-row">
    <div class="form-group form-col">
      <label for="twitter">Twitter</label>
      <input type="text" class="form-control" name="social[twitter]" id="twitter" value="<%= teacher.social?.twitter || '' %>">
    </div>

    <div class="form-group form-col">
      <label for="linkedin">LinkedIn</label>
      <input type="text" class="form-control" name="social[linkedin]" id="linkedin" value="<%= teacher.social?.linkedin || '' %>">
    </div>

    <div class="form-group form-col">
      <label for="facebook">Facebook</label>
      <input type="text" class="form-control" name="social[facebook]" id="facebook" value="<%= teacher.social?.facebook || '' %>">
    </div>
  </div>

  <div class="form-group">
    <label for="password">New Password <small>(Leave blank to keep current)</small></label>
    <input type="password" class="form-control" name="password" id="password" placeholder="Enter new password">
  </div>

  <div class="mt-4 d-flex justify-content-end gap-2">
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="/admin/profile" class="btn btn-light">Cancel</a>
  </div>
</form>

          </div>

        </div>
      </div>
    </div>
  </div>

  <script src="/vendor/jquery/jquery.min.js"></script>
<script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="/assets/js/isotope.min.js"></script>
<script src="/assets/js/owl-carousel.js"></script>
<script src="/assets/js/counter.js"></script>
<script src="/assets/js/custom.js"></script>
<script src="/assets/vendors/js/vendor.bundle.base.js"></script>
<script src="/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="/assets/vendors/chart.js/chart.umd.js"></script>
<script src="/assets/vendors/progressbar.js/progressbar.min.js"></script>
<script src="/assets/js/off-canvas.js"></script>
<script src="/assets/js/template.js"></script>
<script src="/assets/js/settings.js"></script>
<script src="/assets/js/hoverable-collapse.js"></script>
<script src="/assets/js/todolist.js"></script>
<script src="/assets/js/jquery.cookie.js" type="text/javascript"></script>
</body>
</html>
